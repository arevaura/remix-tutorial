import{w as u,u as x,a as j,r as m,j as e,L as l,F as d,N as p,O as g}from"./chunk-OIYGIGL5-BdfCQc-g.js";const N=u(function({loaderData:c}){const{contacts:t,q:a}=c,i=x(),o=j(),n=i.location&&new URLSearchParams(i.location.search).has("q");return m.useEffect(()=>{const s=document.getElementById("q");s instanceof HTMLInputElement&&(s.value=a||"")},[a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{id:"sidebar",children:[e.jsx("h1",{children:e.jsx(l,{to:"about",children:"React Router Contacts"})}),e.jsxs("div",{children:[e.jsxs(d,{id:"search-form",onChange:s=>{const r=a===null;o(s.currentTarget,{replace:!r})},role:"search",children:[e.jsx("input",{"aria-label":"Search contacts",className:n?"loading":"",defaultValue:a||"",id:"q",name:"q",placeholder:"Search",type:"search"}),e.jsx("div",{"aria-hidden":!0,hidden:!n,id:"search-spinner"})]}),e.jsx(d,{method:"post",children:e.jsx("button",{type:"submit",children:"New"})})]}),e.jsx("nav",{children:t.length?e.jsx("ul",{children:t.map(s=>e.jsx("li",{children:e.jsx(p,{className:({isActive:r,isPending:h})=>r?"active":h?"pending":"",to:`contacts/${s.id}`,children:e.jsxs(l,{to:`contacts/${s.id}`,children:[s.first||s.last?e.jsxs(e.Fragment,{children:[s.first," ",s.last]}):e.jsx("i",{children:"No Name"}),s.favorite?e.jsx("span",{children:"â˜…"}):null]})})},s.id))}):e.jsx("p",{children:e.jsx("i",{children:"No contacts"})})})]}),e.jsx("div",{className:i.state==="loading"&&!n?"loading":"",id:"detail",children:e.jsx(g,{})})]})});export{N as default};
